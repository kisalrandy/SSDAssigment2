<!DOCTYPE html>
<html>

<head>
    <title>Drive App</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" media="screen" href="design.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
</head>

<body>
	<div class="wrapper">
    <!-- Set the title of the page -->
        <div class="title-bar">
            <p class="title">Drive APP</p>
            <button class="menu-items" id="authorize_button" style="display: none;">Log In</button>
            <button class="menu-items" id="signout_button" style="display: none;">Sign Out</button>
        </div>

<!-- Design of the welcome page -->
        <div id="welcome-banner" style="display:none;">
            <h1>Welcome to Drive App !</h1>
            <img src="drive-intro-image.png">
            <button id="get-started" class="button primary" style="margin: 30px 0 0 0;">Get started !</button>
        </div>

<!-- backgroung image -->
        <div id="intro-banner" style="display: none;">
            <img src="banner.png">
        </div>

		<div id="innerWrapper" class="inner-wrapper" style="display:none;">
			<!-- File upload form -->
            <form id="uploadForm">
                <div class="form-input upload-box">
                    <input class = "file-upload" id="fileInput" type="file" name="fileToUpload" />
                </div>
                <div class="form-input">
                    <input id="btnUpload" class="button primary" type="submit" value="Upload">
                </div>
            </form>

<!-- display the file list -->
            <div id="box" class="list">
                <p class="list-header">My Files</p>
                <div id="message" style="display: none;"></div>
                <div id="spinner" style="display: none;">
                    <i class="fas fa-spinner fa-spin"></i>
                </div>
                <table id="fileList">
                </table>
                <pre id="content" style="white-space: pre-wrap;"></pre>
            </div>

		</div>
        <footer>SSD Assignment 2 </footer>
	</div>

	<script type="text/javascript">
		// initilize the client_id and the API_key using developer console data
        var CLIENT_ID = '413139592377-r40j0ih6mlg284kgirgue1om6hei4nib.apps.googleusercontent.com';
        var API_KEY = 'AIzaSyASLU9MkSNXmfMJSsZTiQazjtTHYXQh6qw';

        // obtain the discovery document for the google drive api version 3
        var DISCOVERY_DOCS = ["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"];

        // gives the full permission to access the files in google drive except the for application files
        var SCOPES = 'https://www.googleapis.com/auth/drive';

// binding elements
        var authorizeButton = document.getElementById('authorize_button');

        var getStartedButton = document.getElementById('get-started');

        var signoutButton = document.getElementById('signout_button');

        var uploadBtn = document.getElementById('fileInput')
        var uploadForm = document.getElementById('uploadForm')

        var fileList = document.getElementById('fileList');

        uploadForm.onsubmit = uploadFile

		// load the auth2 and API client libraries
        function handleClientLoad() {
            gapi.load('client:auth2', initClient);
        }

		 /**
         *  Initializes the API client library and sets up sign-in state
         *  listeners.
         */
        function initClient() {
            gapi.client.init({
                apiKey: API_KEY,
                clientId: CLIENT_ID,
                discoveryDocs: DISCOVERY_DOCS,
                scope: SCOPES
            }).then(function () {

                // Listen for sign-in state changes.
                gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);

                // Handle the initial sign-in state.
                updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());
                authorizeButton.onclick = handleAuthClick;
                getStartedButton.onclick = handleAuthClick;
                signoutButton.onclick = handleSignoutClick;
            }, function (error) {
                appendPre(JSON.stringify(error, null, 2));
            });
        }





































































































































































































































	</script>




</body>


</html>